<!DOCTYPE html>
<!--[if lt IE 7 ]> <html lang="en" class="no-js ie6"> <![endif]-->
<!--[if IE 7 ]> <html lang="en" class="no-js ie7"> <![endif]-->
<!--[if IE 8 ]> <html lang="en" class="no-js ie8"> <![endif]-->
<!--[if IE 9 ]> <html lang="en" class="no-js ie9"> <![endif]-->
<!--[if (gt IE 9)|!(IE)]><!--> <html lang="en" class="no-js"> <!--<![endif]-->
<head>
  <meta charset='utf-8' />
  <meta content='IE=edge,chrome=1' http-equiv='X-UA-Compatible' />
  <title>timmy willison</title>
  <meta content="timmy willison's personal website and blog" name='description' />
  <meta content='timmy willison personal website blog jquery tim jQuery core portfolio javascript html css html5 css3' name='keywords' />
  <meta content='timmy willison' name='author' />
  <!--[if IE]>
    <meta content='no' http-equiv='imagetoolbar' />
  <![endif]-->
  <link href='/favicon.ico' rel='shortcut icon' />
  <link href='/apple-touch-icon.png' rel='apple-touch-icon' />
  <link href='/css/style.css?v=2' rel='stylesheet' />
  <script src='/js/libs/modernizr-1.6.min.js'></script>
</head>
<body>
  <header id='header'>
      <hgroup>
        <a href='/' id='logo'>timmy willison</a>
        <h2>Web developer, <a target="_blank" href="http://jquery.com/">jQuery</a> Core Team Member, <br><a id="html5" href="http://www.w3.org/html/logo/">html5</a>/<a target="_blank" href="http://css3please.com/">css3</a> fanatic</h2>
        <nav class='start' id='nav'>
          <ul>
            <li>
              <a href='/samples/password123/'>jQuery password123</a>
            </li>
            <li>
              <a href='/samples/bubbles/'>jQuery Google Bubbles</a>
            </li>
            <li>
              <a href='/pres/operators/'>Rare Javascript Operators</a>
            </li>
            <li>
              <a href='/pres/attributes/'>Attributes &amp; Properties in jQuery</a>
            </li>
            <li>
              <a href='http://twitter.com/timmywil'>@timmywil</a>
            </li>
            <li>
              <a href='http://github.com/timmywil'>Github</a>
            </li>
          </ul>
        </nav>
      </hgroup>
    </header>
  <div id='container'>
    <section id='blog'>
      <article>
        <header class='clearfix'>
          <h1>jQuery.swap</h1>
          <h5 class='date'>2/19/2011</h5>
        </header>
        <div class='content'>
          <p>
              Having recently delved into the deeper tunnels of the css component of the jQuery source, I had discovered a surprisingly useful internal jQuery function that may be of use to you: jQuery.swap. I&#8217;m sure we&#8217;ve all encountered issues retrieving consistent cross-browser css values with javascript.  I have written this function dozens of times and not realized that it was already in jQuery.
            </p>
            <div class='note'>
              jQuery.swap's paramaters are an element, css properties in an object literal, and a callback function. It swaps the styles of the element you pass with the given css, calls your callback, then returns the element to its original style.<br>
              Check out the source for <a target="_blank" href="http://bot-t.com/jquery.js#5779">swap</a>.
            </div>
            <p>
              To demonstrate, I wrote a lightbox plugin for a site and needed to calculate it&#8217;s final position when opened. It does a flip css3 animation while expanding from a given point. I attach the necessary html for the lightbox given certain parameters on what content it should pull in and which element (an anchor) will be clicked to open it.  The lightbox is inserted after the anchor and by default, the lightbox expands as if out from behind the anchor it is attached to.
            </p>
            <p>
              Having attached the lightbox, I want to allow the user to override it&#8217;s original position in their own css, so in order to retrieve accurate top/left values in Firefox 3, the lightbox could not be hidden or I would consistently get back 0.
            </p>
            <pre name="code" class="javascript">
            var $lightbox = $('#lightbox'),
                top, left;
            // Temporarily swap visibility instead of display: none to get correct top/left in firefox 3
            $.swap($lightbox[0],
              { "display"   : "block",
                "visibility": "hidden" },
              function() {
                top = $lightbox.css('top');
                left = $lightbox.css('left');
              });
            </pre>
        </div>
      </article>
    </section>
    <section id='sidebar'>
        <a href='https://developer.mozilla.org/en/JavaScript/Guide' title='How To Learn JS'>
          <img alt='How To Learn JS' height='280' src='http://static.jsconf.us/promotejsv.gif' width='160' />
        </a>
      </section>
    <footer id='footer'>
      <p>
        copyright &copy; 2011 timmy willison | <a href="/licence/">licence</a>
      </p>
    </footer>
  </div>
  <!-- end of container -->
  <script src='//ajax.googleapis.com/ajax/libs/jquery/1.6.1/jquery.min.js'></script>
  <script type='text/javascript'>
    //<![CDATA[
      !window.jQuery && document.write(unescape('%3Cscript src="/js/libs/jquery-1.6.1.min.js"%3E%3C/script%3E'));
    //]]>
  </script>
  <script src='/js/plugins.js' type='text/javascript'></script>
  <script src='/js/script.js' type='text/javascript'></script>
  
  <!--[if lt IE 7 ]>
    <script src="/js/libs/dd_belatedpng.js"></script>
    <script> DD_belatedPNG.fix('img, .png_bg'); //fix any <img> or .png_bg background-images </script>
  <![endif]-->
  <!-- asynchronous google analytics -->
  <script type='text/javascript'>
    //<![CDATA[
      var _gaq = [['_setAccount', 'UA-15918109-1'], ['_trackPageview']];
      (function(d, t) {
       var g = d.createElement(t),
      		 s = d.getElementsByTagName(t)[0];
       g.async = true;
       g.src = ('https:' == location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
       s.parentNode.insertBefore(g, s);
      })(document, 'script');
    //]]>
  </script>
  
</body>
</html>
